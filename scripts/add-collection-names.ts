import { BetterSQLite3Database } from 'drizzle-orm/better-sqlite3';
import Database from 'better-sqlite3';
import { drizzle } from 'drizzle-orm/better-sqlite3';
import { groupNames } from '../src/lib/db/schema';

// 本地数据库配置
const sqlite = new Database('.wrangler/state/v3/d1/miniflare-D1DatabaseObject/isaac-notes.sqlite');
const db = drizzle(sqlite) as BetterSQLite3Database;

const collectionNames = {
  1: [ // 三人群名
    '桃园三结义', '三个臭皮匠', '三剑客', '三只小猪', '三生三世',
    '三缺一等你', '三人行必有我师', '三个火枪手', '铁三角', '三朵金花',
    '三只小猫', '三只小熊', '三人帮', '三脚猫', '三脚架',
    '三姐妹', '三兄弟', '三剑传说', '三人世界', '三巨头',
    '三足鼎立', '三条腿的凳子', '三口之家', '三星高照', '三点钟',
    '三思而后行', '三更半夜', '三十年河东', '三十六计', '三心二意',
    '三生有幸', '三阳开泰', '三羊启泰', '三阳开泰', '三皇五帝',
  ],
  2: [ // 四人群名
    '四大名捕', '四大美女', '四小龙', '四大才子', '四小天鹅',
    '四只小鸭子', '四朵金花', '四角恋', '四面楚歌', '四海为家',
    '四季如春', '四分五裂', '四平八稳', '四大皆空', '四通八达',
    '四不象', '四眼仔', '四大天王', '四季发财', '四世同堂',
    '四库全书', '四海之内', '四方来财', '四季平安', '四叶草',
    '四叶幸运', '四方志', '四书五经', '四海升平', '四海归心',
    '四海一家', '四海晏然', '四时景胜', '四方辐辏', '四海承平',
  ],
  3: [ // 五人群名
    '五福临门', '五湖四海', '五朵金花', '五福星', '五行八卦',
    '五虎上将', '五子登科', '五大洲', '五味俱全', '五光十色',
    '五脏六腑', '五谷丰登', '五世其昌', '五龙捧圣', '五体投地',
    '五更天', '五分钟', '五千年', '五十六个民族', '五大行',
    '五星连珠', '五洲四海', '五湖四海', '五音六律', '五行缺你',
    '五大三粗', '五谷杂粮', '五色祥云', '五子棋', '五子良将',
    '五月天', '五星级', '五环之恋', '五行八卦阵', '五毒教主',
  ],
  4: [ // 六人群名
    '六六大顺', '六亲不认', '六尺巷', '六神无主', '六根清净',
    '六欲皆空', '六月飞雪', '六朝金粉', '六韬三略', '六脉神剑',
    '六味地黄丸', '六国封相', '六耳猕猴', '六味地黄', '六艺经传',
    '六畜兴旺', '六合同春', '六韬三略', '六出奇计', '六宫粉黛',
    '六合同风', '六街三市', '六神不安', '六道轮回', '六大洲',
    '六朝古都', '六月雪', '六子', '六个核桃', '六道轮回',
    '六神合体', '六欲七情', '六根不净', '六宫粉黛无颜色', '六出祁山',
  ],
  5: [ // 家庭群名（已有28个，再加一些）
    '幸福一家人', '相亲相爱一家人', '其乐融融', '家和万事兴', '天伦之乐',
    '家和业兴', '欢聚一堂', '温暖小家', '爱的港湾', '甜蜜之家',
    '幸福满屋', '温馨家园', '快乐一家人', '美满家庭', '家和万事兴',
    '天伦之乐', '幸福三口之家', '快乐家庭', '温馨小窝', '爱的归宿',
    '家和日子甜', '幸福满满', '暖意融融', '甜蜜家园', '和睦之家',
    '其乐融融', '团圆之家', '幸福时光', '温暖如家', '幸福生活',
    '爱的传递', '家和业兴', '快乐家族', '温馨港湾', '幸福每一天',
    '幸福相伴', '家和万事兴', '爱的家园', '温暖的家', '幸福相随',
    '快乐大家庭', '温馨时光', '甜蜜时光', '幸福一家人', '和谐之家',
  ],
  6: [ // 寝室群名
    '502宿舍', '404宿舍', '神仙室友', '睡神集合地', '熬夜冠军',
    '寝室一家人', '欢乐寝室', '温馨小窝', '梦中情室', '夜猫子联盟',
    '学霸寝室', '学渣联盟', '神仙组合', '快乐神仙', '寝室夜话',
    '深夜食堂', '夜宵小分队', '追剧小分队', '游戏小分队', '学习小分队',
    '懒人窝', '梦游仙境', '睡不醒战队', '熬夜小分队', '早起困难户',
    '寝室夜猫', '夜猫子之家', '夜深人静', '熬夜冠军', '深夜党',
    '梦中情室', '温馨寝室', '快乐寝室', '寝室一家亲', '欢乐时光',
    '寝室小日常', '寝室那些事', '寝室故事', '寝室日常', '寝室生活',
  ],
  7: [ // 爱豆群名（已有10个，再加一些）
    '偶像练习生', '追星少女', '饭圈女孩', '明星粉丝团', '爱豆粉丝后援会',
    '明星应援团', '偶像团粉', '追星大队', '爱豆守护团', '粉丝团团长',
    '明星后援会', '爱豆粉丝俱乐部', '追星一族', '偶像粉丝联盟', '饭圈联盟',
    '爱豆大家庭', '追星少女团', '偶像守护者', '粉丝小分队', '明星粉头',
    '爱豆应援团', '追星小分队', '粉丝后援队', '偶像打call团', '明星应援队',
    '爱豆守护联盟', '追星姐妹', '偶像粉粉', '粉丝打call', '爱豆打call',
    '明星粉丝后援', '追星组织', '偶像应援组织', '粉丝团总部', '爱豆粉丝团',
    '追星后援团', '明星粉粉团', '爱豆粉头团', '粉丝应援群', '偶像粉丝群',
    '追星粉丝团', '明星后援队', '爱豆后援队', '粉丝打call群', '偶像打call群',
    '追星大队', '明星粉丝后援会', '爱豆守护群', '粉丝守护者', '偶像粉丝家园',
  ],
};

async function addCollectionNames() {
  console.log('开始添加合集群名...');

  for (const [collectionIdStr, names] of Object.entries(collectionNames)) {
    const collectionId = parseInt(collectionIdStr);
    console.log(`\n处理合集 ${collectionId}，添加 ${names.length} 个群名...`);

    for (const name of names) {
      try {
        await db.insert(groupNames).values({
          name,
          collectionId,
          status: 'approved',
          views: 0,
          likes: 0,
          copies: 0,
        });
        console.log(`  ✅ ${name}`);
      } catch (error) {
        console.log(`  ❌ ${name} (可能已存在)`);
      }
    }
  }

  console.log('\n✅ 添加完成！');
  process.exit(0);
}

addCollectionNames().catch((error) => {
  console.error('错误:', error);
  process.exit(1);
});
